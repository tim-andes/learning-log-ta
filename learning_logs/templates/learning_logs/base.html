{% load bootstrap4 %}

<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,
    shrink-to-fit=no">

    <title>Learning Log</title>

    {% bootstrap_css %}
    {% bootstrap_javascript jquery='full' %}
</head>

<body>
    <nav class="navbar navbar-expand-md navbar-light bg-light mb-4 border">
        <a class="navbar-brand" href="{% url 'learning_logs:index' %}">
            Learning Log</a>

    <button class="navbar-toggler" type="button" data-toggle="collapse"
        data-target="#navbarCollapse" aria-controls="navbarCollapse"
        aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                <a class="nav-link" href="{% url 'learning_logs:topics'%}">
                    Topics</a></li>
            </ul>
            <ul class="navbar-nav ml-auto">
                {% if user.is_authenticated %}
                    <li class="nav-item">
                        <span class="navbar-text">Hello, {{ user.username }}.</span>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'users:logout' %}">Log out</a>
                    </li>
                {% else %}
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'users:register' %}">Register</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{% url 'users:login' %}">Log in</a></li>
                {% endif %}
            </ul>
        </div>

    </nav>

    <main role="main" class="container">
        <div class="pb-2 mb-2 border-bottom">
            {% block page_header %}{% endblock page_header %}
        </div>
        <div>
            {% block content %}{% endblock content %}
        </div>
    </main>

</body>
</html>
{% comment %}
At [12] we use one of django-bootstrap4’s custom template tags, which
tells Django to include all the Bootstrap style files. The tag that follows
enables all the interactive behavior you might use on a page, such as col-
lapsible navigation bars.

At [17] is a <nav> element
that indicates the page’s navigation links section. Everything contained in
this element is styled according to the Bootstrap style rules defined by the
selectors navbar , navbar-expand-md , and the rest that you see here. A selector
determines which elements on a page a certain style rule applies to. The
navbar-light and bg-light selectors style the navigation bar with a light-
themed background. The mb in mb-4 is short for margin-bottom; this selector
ensures that a little space appears between the navigation bar and the rest
of the page. The border selector provides a thin border around the light
background to set it off a little from the rest of the page.

At [18] we set the project’s name to appear at the far left of the navigation
bar and make it a link to the home page; it will appear on every page in the
project. The navbar-brand selector styles this link so it stands out from the
rest of the links and is a way of branding the site.

At [21] the template defines a button that appears if the browser window
is too narrow to display the whole navigation bar horizontally. When the
user clicks the button, the navigation elements will appear in a drop-down
list. The collapse reference causes the navigation bar to collapse when the
user shrinks the browser window or when the site is displayed on mobile
devices with small screens.

At [25] we open a new section of the navigation bar. The term div is short
for division; you build a web page by dividing it into sections and defining
style and behavior rules that apply to that section. Any styling or behavior
rules that are defined in an opening div tag affect everything you see until
the next closing div tag, which is written as </div> . This is the beginning
of the part of the navigation bar that will be collapsed on narrow screens
and windows.

At [26] we define a new set of links. Bootstrap defines navigation ele-
ments as items in an unordered list with style rules that make it look noth-
ing like a list. Every link or element you need on the bar can be included as
an item in one of these lists. Here, the only item in the list is our link to
the Topics page [27].

At [31] we begin a new set of links by using another opening <ul> tag.
You can have as many groups of links as you need on a page. This will be
the group of links related to login and registration that appears on the
right side of the navigation bar. The selector ml-auto is short for margin-left-
automatic: this selector examines the other elements in the navigation bar
and works out a left margin that pushes this group of links to the right side
of the screen.

The if block at [32] is the same conditional block we used earlier to display
appropriate messages to users depending on whether or not they’re logged
in. The block is a little longer now because some styling rules are inside the
conditional tags. At [34] is a <span> element. The span element styles pieces of
text, or elements of a page, that are part of a longer line. Whereas div ele-
ments create their own division in a page, span elements are continuous
within a larger section. This can be confusing at first, because many pages
have deeply nested div elements. Here, we’re using the span element to style
informational text on the navigation bar, such as the logged-in user’s name.
We want this information to appear different from a link, so users aren’t
tempted to click these elements.

All of the below items were removed when we added bootstrap styling:
<p>
    <a href="{% url 'learning_logs:index' %}">Learning Log</a> |
    <a href="{% url 'learning_logs:topics' %}">Topics</a> |
    {% if user.is_authenticated %}
        Hello, {{ user.username }}. |
        <a href="{% url 'users:logout' %}">Log out</a>
    {% else %}
        <a href="{% url 'users:login' %}">Log In</a> |
        <a href="{% url 'users:register' %}">Sign Up</a>
    {% endif %}
</p>

{% block content %}{% endblock content %}


Line 3. Creates a paragraph containing the name of the project which also acts as
a home page link.

To generate this link, we use a TEMPLATE TAG, indicated by {% %}
A template tag generates information to be displayed on a page.
Our template tag {% url 'learning_logs:index' %} generates a URL
matching the URL pattern defined in learning_logs/urls.py with the name
'index'. In this example, learning_logs is the namespace and index is a
uniquely named URL pattern in that namespace.
The namespace comes from the value we assigned to app_name in the
learning_logs/urls.py file.

Line 8. We insert a pair of block tags. This block, named CONTENT, is a placeholder;
the child template will define the kind of information that goes in the
content block.

Line 3-4. We add a dash after the link to the home page, and then add a
link to the topics page using the {% url %} template tag again. This line
tells Django to generate a link matching the URL pattern with the name
'topics' in learning_logs/urls.py.

Line 4-8 In Django’s authentication system, every template has a user variable
available, which always has an is_authenticated attribute set: the attribute is
True if the user is logged in and False if they aren’t. This attribute allows you
to display one message to authenticated users and another to unauthenti-
cated users.

Here we display a greeting to users currently logged in [4]. Authenticated
users have an additional username attribute set, which we use to personalize
the greeting and remind the user they’re logged in [5]. At [7] we display a link
to the login page for users who haven’t been authenticated.
{% endcomment %}
